

D3D: Direct3D

OpenGL ES: OpenGl for Embedden System.

## 图像渲染流程

* 指定图元
* 设定观察位置
* 顶点变换
    * 坐标变换
        + 投影
    * 颜色
        + 光照
    * 顶点属性

* 光栅化: 将图形转换为屏幕像素
    + 纹理
        - 滤波
        - 映射方式
        - 顶点转换
        - 纹理贴图尺寸限制
            纹理长宽必须是2的N次方，否则在某些机器上会有问题。另外是否有最小限制？
    + Alpha测试
    + 模板测试
    + Alpha混合
    + 像素着色
        目前最消耗性能的地方是像素着色，需要反复处理多个像素

应用程序、几何以及光栅。
应用程序包括：图元数据遍历，摄像机的移动，物体模型的动画移动，物体可见检查，选择细节等级(LOD)；
几何主要包括：模型和视点变换，光照与着色，投影，裁减，屏幕映射；光栅为像素（Pixel）正确配色，以便绘制完整图像，该阶段进行的都是单个像素的操作，每个像素的信息存储在颜色缓冲器（color buffer或者frame buffer）中。

## 顶装景投光 栅片 纹测混

```
顶:先在顶点处理器上计算每个顶点的属性(包括坐标,颜色,法向量,纹坐标,以及其他属性如反射方向,折射方向等属性)
装:根据图元的装配方式(虚线,实线,线宽,多边形着色模式等参数)将顶点装配连接成各种图元
景:根据设置好的透视视椎体,裁剪掉那些没有在视椎体中的顶点,他们不纳入计算)
投:将视椎体中的景物投影到近裁面上,根据投影变换矩阵计算每个顶点的齐次投影坐标
光:根据经典光照模型公式,光源的位置,顶点的位置,顶点的法向量,眼睛的位置综合计算每个点的光照颜色,光照公式自己去查)

至此:上面的这些阶段就是"顶点处理程序"的流程

然后是中间的"栅片"阶段,意为让图形硬件根据扫描线"栅出"(即线性插值计算)每个片元的颜色和法向量,纹坐标,这个过程是不可编程的.我们无法控制.

下面是"片元处理程序阶段"
纹：指将纹理按照指定贴图方式(GL_MODULATE,GL_DECAL,GL_REPLACE)贴到每个片元上,计算出每个片元贴上纹理后的颜色
测：指对每个片元按顺序进行剪裁测试、alpha测试、模板测试、深度测试），所有测试通过的片元的颜色将写入帧缓冲区中到屏幕显示。
混：指在最后将片元颜色写入帧缓冲区中的时候根据指定的混色方案如glBlendFunc（GL_SRC_ALPHA,GL_ONE_MINUS_SRC_ALPHA）将片元颜色与帧缓冲区颜色混合，OK,整个渲染流程就此结束了。
```


## 抖动
1.可用于像素颜色数降级处理

## 反锯齿
SSAA: Super Samping AA, 渲染为 Size * N * N 的大图片，然后缩小到Size进行抗锯齿（完美抗锯齿）
MSAA: Multi-Samping AA, 光栅化阶段
Post Processing AA




